<?php namespace Application\Controllers; use GL\Core\Controller\Controller as Controller;use Symfony\Component\HttpFoundation\Request as Request;  use Stringy\Stringy as S;class ErrorController extends Controller implements \GL\Core\Controller\ControllerErrorInterface{    protected $codes;    protected function loadJson()    {        $path = CONFIGDIR . DS . "error.json";        $buffer = file_get_contents($path);                $this->codes = json_decode($buffer);    }     public function error( $code)    {        $this->loadJson();        $codes = collect($this->codes->codes);        $res = $codes->where('code',$code);        if($res->count()>0)        {            $hc = $res->first();            $error_name = $hc->phrase ;            $error_code = $code ;            $error_status = $hc->phrase;            $error_description =$hc->description;            $error_details = $hc->spec_href;            $params = [                "error_name" => $error_name,                "error_code" => $error_code,                "error_status" => $error_status,                "error_description" => $error_description,                "error_details" => $error_details            ];            return $this->renderHtml($params,$code);        }        else        {            return $this->renderRaw("Unknow HTTP Error Code $code");        }    }    private function renderHtml($params,$code=200)    {        return $this->render("error",$params,$code,array(),"blade");            }}