<?php

set_time_limit(0);

/**
 * Loading path constant
 */
define('DS', DIRECTORY_SEPARATOR);
define('ROOT', dirname(dirname(__FILE__))); 
define('TEMPLATEPATH',ROOT . DS . 'app'.DS.'Application'.DS.'Views'); // Path to twig views
define('CONFIGDIR',ROOT.DS.'config'); // path to config directory
define('CACHEPATH',ROOT . DS . 'cache'); // Cache path
define('DEBUGBAR',ROOT . DS ."plugins".DS."maximebf".DS."debugbar".DS."src".DS."DebugBar".DS."Resources"); // path to debugbar resource
define('SERVICEPATH',ROOT . DS . 'config'); // DI service definition directory  path
define('DICACHE',ROOT.DS.'cache'.DS.'DI'.DS.'Container'.DS.'ServiceContainer.php'); // DI container compiled file
define('MIGRATIONPATH',ROOT . DS . "app" . DS . "Migrations"); // Migration script path

/**
 * Enable autoload
 */
require_once (ROOT . DS . 'library' . DS . 'autoload_composer.php');
require_once (ROOT . DS . 'library' . DS . 'database.php');
require_once (ROOT . DS . 'library' . DS . 'config.php');

use GL\Command\CacheCommand;
use GL\Command\ModelCommand;
use GL\Command\ModelsCommand;
use GL\Command\SecurityCommand;
use GL\Command\UserCommand;
use GL\Command\DebugBarCommand;
use GL\Command\ControllerCommand;
use GL\Command\MigrationCommand;
use GL\Command\MigrationCreateCommand;
use GL\Command\MigrationRollbackCommand;
use GL\Command\MigrationListCommand;
use Symfony\Component\Console\Application;

$application = new Application();
$application->add(new CacheCommand);
$application->add(new ModelCommand);
$application->add(new ModelsCommand);
$application->add(new SecurityCommand);
$application->add(new UserCommand);
$application->add(new DebugBarCommand);
$application->add(new ControllerCommand);
$application->add(new MigrationCommand);
$application->add(new MigrationCreateCommand);
$application->add(new MigrationRollbackCommand);
$application->add(new MigrationListCommand);
$application->run();